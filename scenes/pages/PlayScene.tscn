[gd_scene load_steps=10 format=3 uid="uid://bup0fks5pbixl"]

[ext_resource type="Script" path="res://scripts/play/controllers/PlayStateController.cs" id="1_4jq8j"]
[ext_resource type="Script" path="res://scripts/play/controllers/BulletController.cs" id="1_5c7e6"]
[ext_resource type="Texture2D" uid="uid://cobj0uqfs0e2e" path="res://sprites/icon.svg" id="1_j7khg"]
[ext_resource type="Script" path="res://scripts/server/SavingManager.cs" id="1_kg8ya"]
[ext_resource type="Script" path="res://scripts/play/controllers/BossMovementController.cs" id="3_th36n"]
[ext_resource type="PackedScene" uid="uid://difj2ioeu1a8q" path="res://scenes/play/BulletPlay.tscn" id="4_8rsbl"]
[ext_resource type="Texture2D" uid="uid://bs8xn5x8w1r7f" path="res://sprites/play/Space Background.png" id="6_dpeji"]
[ext_resource type="Texture2D" uid="uid://c3msc1fva6pen" path="res://sprites/play/enemy_ship.png" id="7_nog2h"]
[ext_resource type="Texture2D" uid="uid://bxasrv50iwj1q" path="res://sprites/play/player_ship.png" id="8_kdb7t"]

[node name="PlayScene" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Controllers" type="Node" parent="."]

[node name="SavingManager" type="Node" parent="Controllers"]
script = ExtResource("1_kg8ya")

[node name="PlayStateController" type="Node" parent="Controllers" node_paths=PackedStringArray("SavingManager", "BossSprite", "BulletPoolNode")]
script = ExtResource("1_4jq8j")
SavingManager = NodePath("../SavingManager")
BossSprite = NodePath("../../Play/PlayAspectContainer/PlayViewportContainer/PlayViewport/BossSprite")
BulletPoolNode = NodePath("../../Play/PlayAspectContainer/PlayViewportContainer/PlayViewport/BulletPool")

[node name="BulletController" type="Node" parent="Controllers" node_paths=PackedStringArray("BossMovementController", "PlayStateController", "BulletPoolNode", "BossSprite")]
script = ExtResource("1_5c7e6")
PageType = 1
BossMovementController = NodePath("../BossMovementController")
PlayStateController = NodePath("../PlayStateController")
BulletPoolNode = NodePath("../../Play/PlayAspectContainer/PlayViewportContainer/PlayViewport/BulletPool")
BulletNodeObj = ExtResource("4_8rsbl")
BossSprite = NodePath("../../Play/PlayAspectContainer/PlayViewportContainer/PlayViewport/BossSprite")

[node name="BossMovementController" type="Node" parent="Controllers" node_paths=PackedStringArray("PlayStateController")]
script = ExtResource("3_th36n")
PageType = 1
PlayStateController = NodePath("../PlayStateController")

[node name="Play" type="Control" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="BG" type="ColorRect" parent="Play"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.152941, 0.152941, 0.152941, 1)

[node name="PlayAspectContainer" type="AspectRatioContainer" parent="Play"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 21.0
offset_top = 12.0
offset_right = -20.0
offset_bottom = -23.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
ratio = 0.75

[node name="PlayViewportContainer" type="SubViewportContainer" parent="Play/PlayAspectContainer" groups=["play_viewport"]]
layout_mode = 2
mouse_filter = 2
stretch = true

[node name="PlayViewport" type="SubViewport" parent="Play/PlayAspectContainer/PlayViewportContainer"]
disable_3d = true
handle_input_locally = false
size = Vector2i(459, 613)
size_2d_override = Vector2i(768, 1024)
size_2d_override_stretch = true
render_target_update_mode = 4

[node name="BG" type="Sprite2D" parent="Play/PlayAspectContainer/PlayViewportContainer/PlayViewport"]
visible = false
texture_filter = 1
scale = Vector2(4, 4)
texture = ExtResource("6_dpeji")

[node name="BulletPool" type="Node2D" parent="Play/PlayAspectContainer/PlayViewportContainer/PlayViewport"]

[node name="BossSprite" type="Sprite2D" parent="Play/PlayAspectContainer/PlayViewportContainer/PlayViewport"]
self_modulate = Color(1, 0.419608, 0.407843, 1)
texture_filter = 1
position = Vector2(400, 200)
rotation = 3.14159
scale = Vector2(5, 5)
texture = ExtResource("7_nog2h")

[node name="PlayerSprite" type="Sprite2D" parent="Play/PlayAspectContainer/PlayViewportContainer/PlayViewport"]
modulate = Color(0.301961, 0.537255, 1, 1)
texture_filter = 1
position = Vector2(400, 700)
scale = Vector2(3, 3)
texture = ExtResource("8_kdb7t")

[node name="UIAspectContainer" type="AspectRatioContainer" parent="Play"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 21.0
offset_top = 12.0
offset_right = -20.0
offset_bottom = -23.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
ratio = 0.75

[node name="MainBox" type="Control" parent="Play/UIAspectContainer"]
layout_mode = 2

[node name="PlayerHealthContainer" type="Control" parent="Play/UIAspectContainer/MainBox"]
layout_mode = 1
anchors_preset = 11
anchor_left = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -0.75
offset_right = 49.25
offset_bottom = 1.0
grow_horizontal = 0
grow_vertical = 2

[node name="BG" type="ColorRect" parent="Play/UIAspectContainer/MainBox/PlayerHealthContainer"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.0980392, 0.0980392, 0.0980392, 1)

[node name="VBoxContainer" type="VBoxContainer" parent="Play/UIAspectContainer/MainBox/PlayerHealthContainer"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
alignment = 2

[node name="LifePoint1" type="Control" parent="Play/UIAspectContainer/MainBox/PlayerHealthContainer/VBoxContainer"]
custom_minimum_size = Vector2(0, 50)
layout_mode = 2

[node name="Texture" type="TextureRect" parent="Play/UIAspectContainer/MainBox/PlayerHealthContainer/VBoxContainer/LifePoint1"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("1_j7khg")
expand_mode = 2

[node name="LifePoint2" type="Control" parent="Play/UIAspectContainer/MainBox/PlayerHealthContainer/VBoxContainer"]
custom_minimum_size = Vector2(0, 50)
layout_mode = 2

[node name="Texture" type="TextureRect" parent="Play/UIAspectContainer/MainBox/PlayerHealthContainer/VBoxContainer/LifePoint2"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("1_j7khg")
expand_mode = 2

[node name="LifePoint3" type="Control" parent="Play/UIAspectContainer/MainBox/PlayerHealthContainer/VBoxContainer"]
custom_minimum_size = Vector2(0, 50)
layout_mode = 2

[node name="Texture" type="TextureRect" parent="Play/UIAspectContainer/MainBox/PlayerHealthContainer/VBoxContainer/LifePoint3"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("1_j7khg")
expand_mode = 2

[node name="LifePoint4" type="Control" parent="Play/UIAspectContainer/MainBox/PlayerHealthContainer/VBoxContainer"]
custom_minimum_size = Vector2(0, 50)
layout_mode = 2

[node name="Texture" type="TextureRect" parent="Play/UIAspectContainer/MainBox/PlayerHealthContainer/VBoxContainer/LifePoint4"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("1_j7khg")
expand_mode = 2

[node name="BossHealthBar" type="ProgressBar" parent="Play/UIAspectContainer/MainBox"]
layout_mode = 1
anchors_preset = -1
anchor_right = 1.0
offset_left = 16.0
offset_top = 12.0
offset_right = -11.75
offset_bottom = 39.0
grow_horizontal = 2
